<h4 class="card-header"><%= t('title.show_event') %></h4>
<div class="card-block">
  <dl>
    <dt><%= Event.human_attribute_name :title %></dt>
    <dd><%= @event.title %></dd>
    <dt><%= Event.human_attribute_name :start_date_jalali %></dt>
    <dd><%= @event.start_date_jalali.to_farsi %></dd>
    <dt><%= Event.human_attribute_name :end_date_jalali %></dt>
    <dd><%= @event.end_date_jalali.to_farsi %></dd>
    <dt><%= Event.human_attribute_name :description %></dt>
    <dd><%= @event.description %></dd>
    <dt><%= Event.human_attribute_name :author %></dt>
    <dd><%= @event.author_name %></dd>
    <% if @event.edited_by_name %>
        <dt><%= Event.human_attribute_name :edited_by %></dt>
        <dd><%= @event.edited_by_name %></dd>
    <% end %>
  </dl>
</div>
<div class="card-footer text-center">
  <%= link_to t('links.delete_event'), @event, method: :delete, class: 'btn btn-outline-danger btn-sm', id: 'delete_event' %>
  <%= link_to t('links.edit_event'), edit_event_path, class: 'btn btn-outline-info btn-sm', id: 'edit_event' %>
  <%= link_to t('links.share_event'), @event, method: :delete, class: 'btn btn-outline-success btn-sm share-button', id: 'share_event' %>
</div>
<script type="text/javascript" charset="utf-8">
  $('#delete_event').on('click', function (event) {
    event.preventDefault();
    href = $(this).attr('href') + '.json';
    $.ajax({
      url: href,
      type: 'DELETE',
      success: function (data) {
        console.log(data.eventId);
        $('#event_' + data.eventId).detach();
        load_new_event_panel();
      }
    })
    return false;
  });
  $('#edit_event').on('click', function (event) {
    event.preventDefault();
    href = $(this).attr('href');
    load_edit_event_panel(href, '<%= @event.id.to_s %>');
    return false;
  });
  $('#share_event').on('click', function (event) {
    event.preventDefault();
    return false;
  });
</script>
